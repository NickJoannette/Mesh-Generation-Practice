Variable length codes combined with hashing for collision detection